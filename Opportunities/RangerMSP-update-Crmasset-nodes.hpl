<pipeline>
  <info>
    <name>Ingest RangerMSP  (:Crmasset) nodes</name>
    <name_sync_with_filename>Y</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <pipeline_status>0</pipeline_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>-</created_user>
    <created_date>2020/01/03 22:40:31.737</created_date>
    <modified_user>admin</modified_user>
    <modified_date>2020/01/05 12:32:41.443</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <order>
    <hop>
      <from>Query CommitCRM Assets (assets) table</from>
      <to>Create (:Crmassets) nodes for new assets</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Get :Crmasset (last new)</from>
      <to>Query CommitCRM Assets (assets) table</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Get :Crmasset (last mod)</from>
      <to>Query CommitCRM Assets (modified assets)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Query CommitCRM Assets (modified assets)</from>
      <to>Modify (:Crmassets) nodes for modified assets</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Block this step until steps finish</from>
      <to>Update Logging</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Block this step until steps finish 3</from>
      <to>Update Logging 2</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Modify (:Crmassets) nodes for modified assets</from>
      <to>Block this step until steps finish</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Create (:Crmassets) nodes for new assets</from>
      <to>Block this step until steps finish 3</to>
      <enabled>N</enabled>
    </hop>
    <hop>
      <from>Query CommitCRM Assets (modified assets)</from>
      <to>Modify :Crmassets (state/installed/created/used/company/cat/type) for modified assets </to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Query CommitCRM Assets (modified assets)</from>
      <to>Modify :Crmassets (manufacturered) for modified assets </to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Query CommitCRM Assets (modified assets)</from>
      <to>Modify :Crmassets (model/parent/haas) for modified assets</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Block this step until steps finish 2</from>
      <to>Update the :Crmasset :Ticketqueue</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>Block this step until steps finish</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <name>Modify (:Crmassets) nodes for modified assets</name>
        <CopyNr>0</CopyNr>
      </transform>
    </transforms>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>896</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Block this step until steps finish 2</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <name>Modify :Crmassets (model/parent/haas) for modified assets</name>
        <CopyNr>0</CopyNr>
      </transform>
      <transform>
        <name>Modify :Crmassets (state/installed/created/used/company/cat/type) for modified assets </name>
        <CopyNr>0</CopyNr>
      </transform>
      <transform>
        <name>Modify :Crmassets (manufacturered) for modified assets </name>
        <CopyNr>0</CopyNr>
      </transform>
    </transforms>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1024</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Block this step until steps finish 3</name>
    <type>BlockUntilTransformsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <transforms>
      <transform>
        <name>Create (:Crmassets) nodes for new assets</name>
        <CopyNr>0</CopyNr>
      </transform>
    </transforms>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>880</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Clean (:Crmasset) names - remove strange characters</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>WITH "[^a-zA-Z0-9-._@ ]" as regex
MATCH (ca:Crmasset)
WITH ca,trim(apoc.text.replace(ca.name,regex,'')) as cleanname
WITH ca,cleanname,toLower(ca.type) as catype where ca.name &lt;&gt; toLower(cleanname)
WITH ca,cleanname,catype,["desktop","firewall","handset","notebook","power (pdu)","printer","storage device","switch","thin client","ups","wireless (access point)","wireless (controller)","workstation","zero client","server","virtual server","wireless (controller)"] as listoftypes
WITH ca,cleanname WHERE catype in listoftypes
SET ca.name=toLower(cleanname)
return ca.name,cleanname,ca.category,ca.type order by ca.type
;</cypher>
    <batch_size>1000</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>128</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Create (:Crmasset)-[:MONITORING_REQUIREMENT]->(:Monitoring)</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>MATCH (ca:Crmasset) where not (ca)-[:MONITORING_REQUIREMENT]-(:Monitoring)
MATCH (cmkm:Monitoring {value:'Y'})
MATCH (mwpm:Monitoring {value:'M'})
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'server' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'virtual server' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'storage' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'onsite manager' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm) MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'backup appliance' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'switch' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'firewall' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'wireless' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) = 'ups' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(cmkm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'desktop' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'notebook' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'workstation' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))
FOREACH (ignoreMe in CASE WHEN toLower(ca.type) contains 'tablet' THEN [1] ELSE [] END | MERGE (ca)-[:MONITORING_REQUIREMENT]->(mwpm))

RETURN count(ca)
;</cypher>
    <batch_size>1000</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>176</xloc>
      <yloc>464</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Create (:Crmassets) nodes for new assets</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>UNWIND $assets as row
MATCH (rs:Recordstatus {state:row.STATUS})
MATCH (a:Company {acctrecid:coalesce(row.ACCOUNTRECID,'None Provided')})
WITH *
MERGE (ca:Crmasset {recid:row.RECID})
//SET ca.name=trim(toLower(row.NAME)),ca.category=row.USER1,ca.manufacturer=row.MANUFACTURER,ca.assettag=row.ASSETCODE,ca.location=row.LOCATION,ca.description=row.DESCRIPTION,
//ca.createdon=datetime(row.CREATEDATE).epochmillis,ca.updatedon=datetime(row.UPDATEDATE).epochmillis,ca.type=row.VALUE
SET ca.name=trim(toLower(row.NAME)),ca.category=row.USER1,ca.manufacturer=row.MANUFACTURER,ca.assettag=row.ASSETCODE,ca.location=row.LOCATION,ca.description=row.DESCRIPTION,
ca.createdon=apoc.date.parse(toString(row.CREATEDATE),'ms',"yyyy-MM-dd'T'HH:mm:ss","CST"),ca.updatedon=apoc.date.parse(toString(row.UPDATEDATE),'ms',"yyyy-MM-dd'T'HH:mm:ss","CST"),ca.type=row.VALUE,
ca.expireson=apoc.date.parse(toString(row.WARRANTYEXPDATE),'ms',"yyyy-MM-dd'T'HH:mm:ss",'CST')
SET ca.mac=toLower(apoc.text.replace(row.USER3,"[^a-zA-Z\\d]","")),ca.serial=toLower(apoc.text.replace(apoc.text.replace(row.SERIALNO, "[^a-zA-Z\\d]",""),"VMware",""))
FOREACH (ignoreMe in CASE WHEN a.name='None Provided' THEN [1] ELSE [] END | SET ca.company=row.ACCOUNTRECID)
with ca,a,rs,row
MERGE (ca)-[:ASSET_STATE]-(rs)
MERGE (ca)-[:ASSET_OF]->(a)
with ca,row
OPTIONAL MATCH (m2:Manufacturer)--(:Mfralias {name:trim(row.MANUFACTURER)})
with ca,row,m2
MATCH (m:Manufacturer {name:coalesce(row.MANUFACTURER,m2.name,'None Provided')})
//FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m2))
//FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NULL and row.MANUFACTURER is not null and trim(row.MANUFACTURER) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (m:Manufacturer {name:row.MANUFACTURER}))
FOREACH (ignoreMe in CASE WHEN m.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m))
//FOREACH (ignoreMe in CASE WHEN m.name IS NULL THEN [1] ELSE [] END | MERGE (a)-[:MANUFACTURED_BY]->(np))
with ca,row
MATCH (ac:Assetcategory {name:coalesce(trim(row.USER1),'None Provided')})
FOREACH (ignoreMe in CASE WHEN ac.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:IN_CATEGORY]->(ac))
with ca,row
MATCH (at:Assettype {name:coalesce(row.VALUE,'None Provided')})
FOREACH (ignoreMe in CASE WHEN at.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_TYPE]->(at))
with ca,row
MATCH (np:Model {name:'None Provided'})
OPTIONAL MATCH (m:Model {name:trim(row.MODEL)})
FOREACH (ignoreMe in CASE WHEN m.name IS NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(m))
FOREACH (ignoreMe in CASE WHEN row.MODEL is not null and trim(row.MODEL) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (m:Model {name:row.MODEL}))
FOREACH (ignoreMe in CASE WHEN m.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(m))
FOREACH (ignoreMe in CASE WHEN m.name IS NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(np))
with ca,row
OPTIONAL MATCH (pa:Crmasset {recid:coalesce(row.PARENTASSETRECID,'None Provided')})
OPTIONAL MATCH (ib:Crmemployee {acctrecid:coalesce(row.INSTALLEDBY,'None Provided')})
OPTIONAL MATCH (cb:Crmemployee {acctrecid:coalesce(row.CREATEUSER,'None Provided')})
OPTIONAL MATCH (c:Contact {acctrecid:coalesce(row.CONTACTRECID,'None Provided')})
FOREACH (ignoreMe in CASE WHEN c.name IS NOT NULL THEN [1] ELSE [] END |MERGE (ca)-[:USED_BY]-(c))
FOREACH (ignoreMe in CASE WHEN ib.name IS NOT NULL THEN [1] ELSE [] END |MERGE (ca)-[:INSTALLED_BY]-(ib))
FOREACH (ignoreMe in CASE WHEN cb.name IS NOT NULL THEN [1] ELSE [] END |MERGE (ca)-[:CREATED_BY]-(cb))
FOREACH (ignoreMe in CASE WHEN pa.name IS NOT NULL THEN [1] ELSE [] END |MERGE (pa)&lt;-[:CHILD_OF]-(ca))
with ca,row
OPTIONAL MATCH (ih:Crmhaas)
FOREACH (ignoreMe in CASE WHEN trim(toLower(row.USER5))='haas' THEN [1] ELSE [] END | MERGE (ca)-[:BLUENET_OWNED]->(ih))
RETURN ca.name,ca.recid,ca.createdon
;</cypher>
    <batch_size>500</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>Y</unwind>
    <unwind_map>assets</unwind_map>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings>
      <mapping>
        <parameter>VALUE</parameter>
        <field>VALUE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>RECID</parameter>
        <field>RECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ACCOUNTRECID</parameter>
        <field>ACCOUNTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CONTACTRECID</parameter>
        <field>CONTACTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>PARENTASSETRECID</parameter>
        <field>PARENTASSETRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>STATUS</parameter>
        <field>STATUS</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>NAME</parameter>
        <field>NAME</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>SERIALNO</parameter>
        <field>SERIALNO</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ASSETCODE</parameter>
        <field>ASSETCODE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>LOCATION</parameter>
        <field>LOCATION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>INSTALLEDBY</parameter>
        <field>INSTALLEDBY</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>DESCRIPTION</parameter>
        <field>DESCRIPTION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MANUFACTURER</parameter>
        <field>MANUFACTURER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MODEL</parameter>
        <field>MODEL</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER3</parameter>
        <field>USER3</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEUSER</parameter>
        <field>CREATEUSER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEDATE</parameter>
        <field>CREATEDATE</field>
        <type>LocalDateTime</type>
      </mapping>
      <mapping>
        <parameter>UPDATEDATE</parameter>
        <field>UPDATEDATE</field>
        <type>LocalDateTime</type>
      </mapping>
      <mapping>
        <parameter>USER5</parameter>
        <field>USER5</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>WARRANTYEXPDATE</parameter>
        <field>WARRANTYEXPDATE</field>
        <type>LocalDateTime</type>
      </mapping>
      <mapping>
        <parameter>USER1</parameter>
        <field>USER1</field>
        <type>String</type>
      </mapping>
    </mappings>
    <returns>
      <return>
        <name>ca.name</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
      <return>
        <name>ca.recid</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
      <return>
        <name>ca.createdon</name>
        <type>Integer</type>
        <source_type>Integer</source_type>
      </return>
    </returns>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>656</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Get :Crmasset (last mod)</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>OPTIONAL MATCH (lna:Crmasset)
WITH max(coalesce(lna.updatedon,0)) as lastmodifiedasset
WITH apoc.date.format(coalesce(lastmodifiedasset,0),'ms','yyyy-MM-dd HH:mm:ss.sss','CST') AS lastmodifiedasset
RETURN lastmodifiedasset
//RETURN '2000-01-01 01:01:01.111' as lastmodifiedasset
;</cypher>
    <batch_size/>
    <read_only>Y</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns>
      <return>
        <name>lastmodifiedasset</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
    </returns>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>112</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Get :Crmasset (last new)</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>OPTIONAL MATCH (lna:Crmasset)
WITH max(coalesce(lna.createdon,0)) as lastnewasset
WITH apoc.date.format(coalesce(lastnewasset,0),'ms','yyyy-MM-dd HH:mm:ss.sss','CST') AS lastnewasset
//RETURN '2000-01-01 01:01:01.111' as lastnewasset
RETURN lastnewasset
;</cypher>
    <batch_size/>
    <read_only>Y</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns>
      <return>
        <name>lastnewasset</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
    </returns>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>112</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Modify (:Crmassets) nodes for modified assets</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>UNWIND $assets as row
MATCH (ca:Crmasset {recid:row.RECID})
MATCH (a:Company {acctrecid:coalesce(row.ACCOUNTRECID,'None Provided')})
WITH COLLECT (DISTINCT ca) as assets,a,row
UNWIND assets as ca
OPTIONAL MATCH (ib:Crmemployee {acctrecid:coalesce(row.INSTALLEDBY,'None Provided')})
OPTIONAL MATCH (cb:Crmemployee {acctrecid:coalesce(row.CREATEUSER,'None Provided')})
OPTIONAL MATCH (pa:Crmasset {recid:coalesce(row.PARENTASSETRECID,'None Provided')})
OPTIONAL MATCH (m:Manufacturer {name:coalesce(row.MANUFACTURER,'None Provided')})
OPTIONAL MATCH (md:Model {name:coalesce(row.MODEL,'None Provided')})
OPTIONAL MATCH (ac:Assetcategory {name:coalesce(row.USER1,'None Provided')})
OPTIONAL MATCH (at:Assettype {name:coalesce(row.VALUE,'None Provided')})
OPTIONAL MATCH (c:Contact {acctrecid:coalesce(row.CONTACTRECID,'None Provided')})
// FIND matches to row values to change the existing (:Crmasset) properties and relationships to
OPTIONAL MATCH (rs:Recordstatus {state:row.STATUS})
OPTIONAL MATCH (m2:Manufacturer)-[:ALIAS_OF]-(:Mfralias {name:row.MANUFACTURER})
//OPTIONAL MATCH (c2:Assetcategory)-[]-(:Crmcategory {name:trim(row.USER1)})
// FIND relationships for the existing (:Crmasset) node
OPTIONAL MATCH (ca)-[asr:ASSET_STATE]-(oas:Recordstatus)
OPTIONAL MATCH (ca)-[aor:ASSET_OF]-(oao:Company)
OPTIONAL MATCH (ca)-[ubr:USED_BY]-(oub:Contact)
OPTIONAL MATCH (ca)-[ibr:INSTALLED_BY]-(oib:Crmemployee)
OPTIONAL MATCH (ca)-[cbr:CREATED_BY]-(ocb:Crmemployee)
OPTIONAL MATCH (ca)-[cor:CHILD_OF]-(oco:Crmasset)
OPTIONAL MATCH (ca)-[bor:BLUENET_OWNED]-(obo:Crmhaas)
OPTIONAL MATCH (ca)-[mbr:MANUFACTURED_BY]-(omb:Manufacturer)
OPTIONAL MATCH (omb)--(omba:Mfralias)
OPTIONAL MATCH (ca)-[icr:IN_CATEGORY]->(oic:Assetcategory)
OPTIONAL MATCH (ca)-[atr:ASSET_TYPE]->(oat:Assettype)
OPTIONAL MATCH (oic)--(oica:Crmcategory)
OPTIONAL MATCH (ca)-[aimr:ASSET_IS_MODEL]->(oaim:Model)
OPTIONAL MATCH (ih:Crmhaas)
// REMOVE all relationships that are no longer correct
FOREACH (ignoreMe in CASE WHEN row.STATUS &lt;&gt; oas.state THEN [1] ELSE [] END | DELETE asr)
FOREACH (ignoreMe in CASE WHEN row.ACCOUNTRECID &lt;&gt; oao.acctrecid THEN [1] ELSE [] END | DELETE aor)
FOREACH (ignoreMe in CASE WHEN row.CONTACTRECID &lt;&gt; oub.acctrecid THEN [1] ELSE [] END | DELETE ubr)
FOREACH (ignoreMe in CASE WHEN row.VALUE &lt;&gt; oat.name THEN [1] ELSE [] END | DELETE atr)
FOREACH (ignoreMe in CASE WHEN oib.acctrecid IS NULL or (row.INSTALLEDBY &lt;&gt; oib.acctrecid)  THEN [1] ELSE [] END | DELETE ibr)
FOREACH (ignoreMe in CASE WHEN ocb.acctrecid IS NULL or (row.CREATEUSER &lt;&gt; ocb.acctrecid)  THEN [1] ELSE [] END | DELETE cbr)
FOREACH (ignoreMe in CASE WHEN oco.recid IS NULL or (row.PARENTASSETRECID &lt;&gt; oco.recid)  THEN [1] ELSE [] END | DELETE cor)
FOREACH (ignoreMe in CASE WHEN (trim(toLower(row.USER5)) &lt;&gt; 'haas')  THEN [1] ELSE [] END | DELETE bor)
FOREACH (ignoreMe in CASE WHEN omb.name IS NULL or (row.MANUFACTURER &lt;&gt; omb.name and trim(row.MANUFACTURER) &lt;&gt; omba.name)  THEN [1] ELSE [] END | DELETE mbr)
FOREACH (ignoreMe in CASE WHEN oic.name IS NULL or (row.USER1 &lt;&gt; oic.name and trim(row.USER1) &lt;&gt; oica.name)  THEN [1] ELSE [] END | DELETE icr)
FOREACH (ignoreMe in CASE WHEN oaim.name IS NULL or (row.MODEL &lt;&gt; oaim.name)  THEN [1] ELSE [] END | DELETE aimr)
// REMOVE all node properties that are no longer correct (then set to the values based on the row)
FOREACH (ignoreMe in CASE WHEN a.name='None Provided' THEN [1] ELSE [] END | SET ca.company=row.ACCOUNTRECID)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.name,'isnull') &lt;&gt; coalesce(trim(toLower(row.NAME)),'isnull') THEN [1] ELSE [] END | SET ca.name=trim(toLower(row.NAME)))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.category,'isnull') &lt;&gt; coalesce(row.USER1,'isnull') THEN [1] ELSE [] END | SET ca.category=row.USER1)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.manufacturer,'isnull') &lt;&gt; coalesce(row.MANUFACTURER,'isnull') THEN [1] ELSE [] END | SET ca.manufacturer=row.MANUFACTURER)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.assettag,'isnull') &lt;&gt; coalesce(row.ASSETCODE,'isnull') THEN [1] ELSE [] END | SET ca.assettag=row.ASSETCODE)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.location,'isnull') &lt;&gt; coalesce(row.LOCATION,'isnull') THEN [1] ELSE [] END | SET ca.location=row.LOCATION)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.description,'isnull') &lt;&gt; coalesce(row.DESCRIPTION,'isnull') THEN [1] ELSE [] END | SET ca.description=row.DESCRIPTION)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.serial,'isnull') &lt;&gt; coalesce(toLower(apoc.text.replace(apoc.text.replace(row.SERIALNO, "[^a-zA-Z\\d]",""),"VMware","")),'isnull') THEN [1] ELSE [] END | SET ca.serial=toLower(apoc.text.replace(apoc.text.replace(row.SERIALNO, "[^a-zA-Z\\d]",""),"VMware","")))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.mac,'isnull') &lt;&gt; coalesce(toLower(apoc.text.replace(row.USER3,"[^a-zA-Z\\d]","")),'isnull') THEN [1] ELSE [] END | SET ca.mac=toLower(apoc.text.replace(row.USER3,"[^a-zA-Z\\d]","")))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.createdon,'isnull') &lt;&gt; coalesce(apoc.date.parse(ToString(row.CREATEDATE),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.createdon=apoc.date.parse(toString(row.CREATEDATE),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.updatedon,'isnull') &lt;&gt; coalesce(apoc.date.parse(ToString(row.UPDATEDATE),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.updatedon=apoc.date.parse(ToString(row.UPDATEDATE),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.expireson,'isnull') &lt;&gt; coalesce(apoc.date.parse(replace(ToString(row.WARRANTYEXPDATE),'/','-'),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.expireson=apoc.date.parse(replace(ToString(row.WARRANTYEXPDATE),'/','-'),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))
// RECREATE proper RELATIONSHIPS if they are missing
FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m2))
FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NULL and row.MANUFACTURER is not null and trim(row.MANUFACTURER) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (m:Manufacturer {name:row.MANUFACTURER}))
FOREACH (ignoreMe in CASE WHEN m.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m))
FOREACH (ignoreMe in CASE WHEN ac.name IS NULL and row.USER1 is not null and trim(row.USER1) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (ac:Assetcategory {name:row.USER1}) MERGE (ca)-[:IN_CATEGORY]->(ac))
FOREACH (ignoreMe in CASE WHEN ac.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:IN_CATEGORY]->(ac))
FOREACH (ignoreMe in CASE WHEN at.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_TYPE]->(at))
//FOREACH (ignoreMe in CASE WHEN md.name IS NULL THEN [1] ELSE [] END | MERGE (a)-[:ASSET_IS_MODEL]->(md))
FOREACH (ignoreMe in CASE WHEN row.MODEL is not null and trim(row.MODEL) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (md:Model {name:row.MODEL}))
FOREACH (ignoreMe in CASE WHEN md.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(md))
//FOREACH (ignoreMe in CASE WHEN md.name IS NULL THEN [1] ELSE [] END | MERGE (a)-[:ASSET_IS_MODEL]->(mnp))
FOREACH (ignoreMe in CASE WHEN ca.recid IS NOT NULL and rs.state IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_STATE]-(rs))
FOREACH (ignoreMe in CASE WHEN a.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_OF]->(a))
FOREACH (ignoreMe in CASE WHEN c.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:USED_BY]-(c))
FOREACH (ignoreMe in CASE WHEN ib.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:INSTALLED_BY]-(ib))
FOREACH (ignoreMe in CASE WHEN cb.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:CREATED_BY]-(cb))
FOREACH (ignoreMe in CASE WHEN md.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(md))
FOREACH (ignoreMe in CASE WHEN pa.recid IS NOT NULL THEN [1] ELSE [] END | MERGE (pa)&lt;-[:CHILD_OF]-(ca))
FOREACH (ignoreMe in CASE WHEN trim(toLower(row.USER5))='haas' and ih.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:BLUENET_OWNED]->(ih))
//RETURN row.RECID as recid,toString(row.WARRANTYEXPDATE) as EXPIRE,row.WARRANTYEXPDATE as original
;</cypher>
    <batch_size>25</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>Y</unwind>
    <unwind_map>assets</unwind_map>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings>
      <mapping>
        <parameter>VALUE</parameter>
        <field>VALUE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>RECID</parameter>
        <field>RECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ACCOUNTRECID</parameter>
        <field>ACCOUNTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CONTACTRECID</parameter>
        <field>CONTACTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>PARENTASSETRECID</parameter>
        <field>PARENTASSETRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>STATUS</parameter>
        <field>STATUS</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>NAME</parameter>
        <field>NAME</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>SERIALNO</parameter>
        <field>SERIALNO</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ASSETCODE</parameter>
        <field>ASSETCODE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>LOCATION</parameter>
        <field>LOCATION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>INSTALLEDBY</parameter>
        <field>INSTALLEDBY</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>DESCRIPTION</parameter>
        <field>DESCRIPTION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MANUFACTURER</parameter>
        <field>MANUFACTURER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MODEL</parameter>
        <field>MODEL</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER3</parameter>
        <field>USER3</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEUSER</parameter>
        <field>CREATEUSER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEDATE</parameter>
        <field>CREATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>UPDATEDATE</parameter>
        <field>UPDATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER5</parameter>
        <field>USER5</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>WARRANTYEXPDATE</parameter>
        <field>WARRANTYEXPDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER1</parameter>
        <field>USER1</field>
        <type>String</type>
      </mapping>
    </mappings>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>656</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Modify :Crmassets (manufacturered) for modified assets </name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>UNWIND $assets as row
MATCH (ca:Crmasset {recid:row.RECID})

WITH COLLECT(DISTINCT ca) as assets,row
UNWIND assets as ca

OPTIONAL MATCH (m:Manufacturer {name:coalesce(row.MANUFACTURER,'None Provided')})
OPTIONAL MATCH (m2:Manufacturer)-[:ALIAS_OF]-(:Mfralias {name:row.MANUFACTURER})

// FIND relationships for the existing (:Crmasset) node
OPTIONAL MATCH (ca)-[mbr:MANUFACTURED_BY]-(omb:Manufacturer)
OPTIONAL MATCH (ca)-[:MANUFACTURED_BY]-(:Manufacturer)-[:ALIAS_OF]-(omba:Mfralias)

// REMOVE all relationships that are no longer correct
FOREACH (ignoreMe in CASE WHEN omb.name IS NULL or (row.MANUFACTURER &lt;&gt; omb.name and row.MANUFACTURER &lt;&gt; omba.name)  THEN [1] ELSE [] END | DELETE mbr)

// RECREATE proper RELATIONSHIPS if they are missing
FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m2))
FOREACH (ignoreMe in CASE WHEN m.name IS NULL and m2.name IS NULL and row.MANUFACTURER is not null and trim(row.MANUFACTURER) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (m:Manufacturer {name:row.MANUFACTURER}))
FOREACH (ignoreMe in CASE WHEN m.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:MANUFACTURED_BY]->(m))

;</cypher>
    <batch_size>50</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>Y</unwind>
    <unwind_map>assets</unwind_map>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings>
      <mapping>
        <parameter>VALUE</parameter>
        <field>VALUE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>RECID</parameter>
        <field>RECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ACCOUNTRECID</parameter>
        <field>ACCOUNTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CONTACTRECID</parameter>
        <field>CONTACTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>PARENTASSETRECID</parameter>
        <field>PARENTASSETRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>STATUS</parameter>
        <field>STATUS</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>NAME</parameter>
        <field>NAME</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>SERIALNO</parameter>
        <field>SERIALNO</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ASSETCODE</parameter>
        <field>ASSETCODE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>LOCATION</parameter>
        <field>LOCATION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>INSTALLEDBY</parameter>
        <field>INSTALLEDBY</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>DESCRIPTION</parameter>
        <field>DESCRIPTION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MANUFACTURER</parameter>
        <field>MANUFACTURER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MODEL</parameter>
        <field>MODEL</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER3</parameter>
        <field>USER3</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEUSER</parameter>
        <field>CREATEUSER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEDATE</parameter>
        <field>CREATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>UPDATEDATE</parameter>
        <field>UPDATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER5</parameter>
        <field>USER5</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>WARRANTYEXPDATE</parameter>
        <field>WARRANTYEXPDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER1</parameter>
        <field>USER1</field>
        <type>String</type>
      </mapping>
    </mappings>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>672</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Modify :Crmassets (model/parent/haas) for modified assets</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>UNWIND $assets as row
MATCH (ca:Crmasset {recid:row.RECID})

WITH COLLECT(DISTINCT ca) as assets,row
UNWIND assets as ca

OPTIONAL MATCH (pa:Crmasset {recid:coalesce(row.PARENTASSETRECID,'None Provided')})
OPTIONAL MATCH (md:Model {name:coalesce(row.MODEL,'None Provided')})
OPTIONAL MATCH (ih:Crmhaas)

// FIND relationships for the existing (:Crmasset) node
OPTIONAL MATCH (ca)-[cor:CHILD_OF]-(oco:Crmasset)
OPTIONAL MATCH (ca)-[aimr:ASSET_IS_MODEL]->(oaim:Model)
OPTIONAL MATCH (ca)-[bor:BLUENET_OWNED]-(obo:Crmhaas)

// REMOVE all relationships that are no longer correct
FOREACH (ignoreMe in CASE WHEN oco.recid IS NULL or (row.PARENTASSETRECID &lt;&gt; oco.recid)  THEN [1] ELSE [] END | DELETE cor)
FOREACH (ignoreMe in CASE WHEN oaim.name IS NULL or (row.MODEL &lt;&gt; oaim.name)  THEN [1] ELSE [] END | DELETE aimr)
FOREACH (ignoreMe in CASE WHEN (trim(toLower(row.USER5)) &lt;&gt; 'haas')  THEN [1] ELSE [] END | DELETE bor)

// RECREATE proper RELATIONSHIPS if they are missing
FOREACH (ignoreMe in CASE WHEN pa.recid IS NOT NULL THEN [1] ELSE [] END | MERGE (pa)&lt;-[:CHILD_OF]-(ca))
//FOREACH (ignoreMe in CASE WHEN md.name IS NULL THEN [1] ELSE [] END | MERGE (a)-[:ASSET_IS_MODEL]->(md))
FOREACH (ignoreMe in CASE WHEN row.MODEL is not null and trim(row.MODEL) &lt;&gt; "" THEN [1] ELSE [] END | MERGE (md:Model {name:row.MODEL}))
FOREACH (ignoreMe in CASE WHEN md.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_IS_MODEL]->(md))
FOREACH (ignoreMe in CASE WHEN trim(toLower(row.USER5))='haas' and ih.name IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:BLUENET_OWNED]->(ih))
;</cypher>
    <batch_size>50</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>Y</unwind>
    <unwind_map>assets</unwind_map>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings>
      <mapping>
        <parameter>VALUE</parameter>
        <field>VALUE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>RECID</parameter>
        <field>RECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ACCOUNTRECID</parameter>
        <field>ACCOUNTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CONTACTRECID</parameter>
        <field>CONTACTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>PARENTASSETRECID</parameter>
        <field>PARENTASSETRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>STATUS</parameter>
        <field>STATUS</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>NAME</parameter>
        <field>NAME</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>SERIALNO</parameter>
        <field>SERIALNO</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ASSETCODE</parameter>
        <field>ASSETCODE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>LOCATION</parameter>
        <field>LOCATION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>INSTALLEDBY</parameter>
        <field>INSTALLEDBY</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>DESCRIPTION</parameter>
        <field>DESCRIPTION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MANUFACTURER</parameter>
        <field>MANUFACTURER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MODEL</parameter>
        <field>MODEL</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER3</parameter>
        <field>USER3</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEUSER</parameter>
        <field>CREATEUSER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEDATE</parameter>
        <field>CREATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>UPDATEDATE</parameter>
        <field>UPDATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER5</parameter>
        <field>USER5</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>WARRANTYEXPDATE</parameter>
        <field>WARRANTYEXPDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER1</parameter>
        <field>USER1</field>
        <type>String</type>
      </mapping>
    </mappings>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>672</xloc>
      <yloc>368</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Modify :Crmassets (state/installed/created/used/company/cat/type) for modified assets </name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>UNWIND $assets as row
MATCH (ca:Crmasset {recid:row.RECID})
MATCH (a:Company {acctrecid:coalesce(row.ACCOUNTRECID,'None Provided')})
WITH COLLECT(DISTINCT ca) as assets,a,row
UNWIND assets as ca

OPTIONAL MATCH (rs:Recordstatus {state:row.STATUS})
OPTIONAL MATCH (c:Contact {acctrecid:coalesce(row.CONTACTRECID,'None Provided')})
OPTIONAL MATCH (ib:Crmemployee {acctrecid:coalesce(row.INSTALLEDBY,'None Provided')})
OPTIONAL MATCH (cb:Crmemployee {acctrecid:coalesce(row.CREATEUSER,'None Provided')})

// FIND relationships for the existing (:Crmasset) node
OPTIONAL MATCH (ca)-[asr:ASSET_STATE]-(oas:Recordstatus)
OPTIONAL MATCH (ca)-[aor:ASSET_OF]-(oao:Company)
OPTIONAL MATCH (ca)-[ubr:USED_BY]-(oub:Contact)
OPTIONAL MATCH (ca)-[ibr:INSTALLED_BY]-(oib:Crmemployee)
OPTIONAL MATCH (ca)-[cbr:CREATED_BY]-(ocb:Crmemployee)
OPTIONAL MATCH (ca)-[icr:IN_CATEGORY]->(oic:Assetcategory)
OPTIONAL MATCH (ca)-[atr:ASSET_TYPE]->(oat:Assettype)

// REMOVE all relationships that are no longer correct
FOREACH (ignoreMe in CASE WHEN row.STATUS &lt;&gt; oas.state THEN [1] ELSE [] END | DELETE asr)
FOREACH (ignoreMe in CASE WHEN row.ACCOUNTRECID &lt;&gt; oao.acctrecid THEN [1] ELSE [] END | DELETE aor)
FOREACH (ignoreMe in CASE WHEN row.CONTACTRECID &lt;&gt; oub.acctrecid THEN [1] ELSE [] END | DELETE ubr)
FOREACH (ignoreMe in CASE WHEN oib.acctrecid IS NULL or (row.INSTALLEDBY &lt;&gt; oib.acctrecid)  THEN [1] ELSE [] END | DELETE ibr)
FOREACH (ignoreMe in CASE WHEN ocb.acctrecid IS NULL or (row.CREATEUSER &lt;&gt; ocb.acctrecid)  THEN [1] ELSE [] END | DELETE cbr)
FOREACH (ignoreMe in CASE WHEN oic.name IS NULL or (row.USER1 &lt;&gt; oic.name and trim(row.USER1) &lt;&gt; oic.name)  THEN [1] ELSE [] END | DELETE icr)

// REMOVE all node properties that are no longer correct (then set to the values based on the row)
FOREACH (ignoreMe in CASE WHEN a.name='None Provided' THEN [1] ELSE [] END | SET ca.company=row.ACCOUNTRECID)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.name,'isnull') &lt;&gt; coalesce(trim(toLower(row.NAME)),'isnull') THEN [1] ELSE [] END | SET ca.name=trim(toLower(row.NAME)))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.category,'isnull') &lt;&gt; coalesce(row.USER1,'isnull') THEN [1] ELSE [] END | SET ca.category=row.USER1)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.manufacturer,'isnull') &lt;&gt; coalesce(row.MANUFACTURER,'isnull') THEN [1] ELSE [] END | SET ca.manufacturer=row.MANUFACTURER)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.assettag,'isnull') &lt;&gt; coalesce(row.ASSETCODE,'isnull') THEN [1] ELSE [] END | SET ca.assettag=row.ASSETCODE)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.location,'isnull') &lt;&gt; coalesce(row.LOCATION,'isnull') THEN [1] ELSE [] END | SET ca.location=row.LOCATION)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.description,'isnull') &lt;&gt; coalesce(row.DESCRIPTION,'isnull') THEN [1] ELSE [] END | SET ca.description=row.DESCRIPTION)
FOREACH (ignoreMe in CASE WHEN coalesce(ca.serial,'isnull') &lt;&gt; coalesce(toLower(apoc.text.replace(apoc.text.replace(row.SERIALNO, "[^a-zA-Z\\d]",""),"VMware","")),'isnull') THEN [1] ELSE [] END | SET ca.serial=toLower(apoc.text.replace(apoc.text.replace(row.SERIALNO, "[^a-zA-Z\\d]",""),"VMware","")))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.mac,'isnull') &lt;&gt; coalesce(toLower(apoc.text.replace(row.USER3,"[^a-zA-Z\\d]","")),'isnull') THEN [1] ELSE [] END | SET ca.mac=toLower(apoc.text.replace(row.USER3,"[^a-zA-Z\\d]","")))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.createdon,'isnull') &lt;&gt; coalesce(apoc.date.parse(row.CREATEDATE,'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.createdon=apoc.date.parse(row.CREATEDATE,'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.updatedon,'isnull') &lt;&gt; coalesce(apoc.date.parse(row.UPDATEDATE,'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.updatedon=apoc.date.parse(row.UPDATEDATE,'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))
FOREACH (ignoreMe in CASE WHEN coalesce(ca.expireson,'isnull') &lt;&gt; coalesce(apoc.date.parse(replace(row.WARRANTYEXPDATE,'/','-'),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"),'isnull') THEN [1] ELSE [] END | SET ca.expireson=apoc.date.parse(replace(row.WARRANTYEXPDATE,'/','-'),'ms',"yyyy-MM-dd HH:mm:ss.SSS","CST"))

// RECREATE proper RELATIONSHIPS if they are missing
FOREACH (ignoreMe in CASE WHEN ca.recid IS NOT NULL and rs.state IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_STATE]-(rs))
FOREACH (ignoreMe in CASE WHEN a.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:ASSET_OF]->(a))
FOREACH (ignoreMe in CASE WHEN c.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:USED_BY]-(c))
FOREACH (ignoreMe in CASE WHEN ib.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:INSTALLED_BY]-(ib))
FOREACH (ignoreMe in CASE WHEN cb.acctrecid IS NOT NULL THEN [1] ELSE [] END | MERGE (ca)-[:CREATED_BY]-(cb))

;</cypher>
    <batch_size>50</batch_size>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>Y</unwind>
    <unwind_map>assets</unwind_map>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings>
      <mapping>
        <parameter>VALUE</parameter>
        <field>VALUE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>RECID</parameter>
        <field>RECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ACCOUNTRECID</parameter>
        <field>ACCOUNTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CONTACTRECID</parameter>
        <field>CONTACTRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>PARENTASSETRECID</parameter>
        <field>PARENTASSETRECID</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>STATUS</parameter>
        <field>STATUS</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>NAME</parameter>
        <field>NAME</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>SERIALNO</parameter>
        <field>SERIALNO</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>ASSETCODE</parameter>
        <field>ASSETCODE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>LOCATION</parameter>
        <field>LOCATION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>INSTALLEDBY</parameter>
        <field>INSTALLEDBY</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>DESCRIPTION</parameter>
        <field>DESCRIPTION</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MANUFACTURER</parameter>
        <field>MANUFACTURER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>MODEL</parameter>
        <field>MODEL</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER3</parameter>
        <field>USER3</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEUSER</parameter>
        <field>CREATEUSER</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>CREATEDATE</parameter>
        <field>CREATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>UPDATEDATE</parameter>
        <field>UPDATEDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER5</parameter>
        <field>USER5</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>WARRANTYEXPDATE</parameter>
        <field>WARRANTYEXPDATE</field>
        <type>String</type>
      </mapping>
      <mapping>
        <parameter>USER1</parameter>
        <field>USER1</field>
        <type>String</type>
      </mapping>
    </mappings>
    <returns/>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>656</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Query CommitCRM Assets (assets) table</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${RangerMSP-ds}</connection>
    <sql>select v.VALUE,a.RECID,a.ACCOUNTRECID,a.CONTACTRECID,a.PARENTASSETRECID,a.STATUS,a.NAME,a.SERIALNO,a.ASSETCODE,a.LOCATION,a.WARRANTYEXPDATE,a.INSTALLEDBY,CAST(a.DESCRIPTION as SQL_VARCHAR) AS DESCRIPTION,a.MANUFACTURER,a.MODEL,a.USER3,a.CREATEUSER,a.CREATEDATE,a.UPDATEDATE,a.USER1,a.USER5 from ValuesList as v INNER JOIN Assets AS a on v.RECID = a.ASSETTYPE where a.RECID is not null AND a.CREATEDATE > ?</sql>
    <limit>0</limit>
    <lookup>Get :Crmasset (last new)</lookup>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>Y</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>VALUE</name>
            <length>100</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>VALUE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>VALUE</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>VALUE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>RECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>RECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>RECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>RECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>ACCOUNTRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>ACCOUNTRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>ACCOUNTRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>ACCOUNTRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>CONTACTRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>CONTACTRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>CONTACTRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>CONTACTRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>PARENTASSETRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>PARENTASSETRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>PARENTASSETRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>PARENTASSETRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>STATUS</name>
            <length>1</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>STATUS</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>STATUS</name>
        <length>1</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>STATUS</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>NAME</name>
            <length>60</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>NAME</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>NAME</name>
        <length>60</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>NAME</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>SERIALNO</name>
            <length>30</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>SERIALNO</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>SERIALNO</name>
        <length>30</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>SERIALNO</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>ASSETCODE</name>
            <length>30</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>ASSETCODE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>ASSETCODE</name>
        <length>30</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>ASSETCODE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>LOCATION</name>
            <length>50</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>LOCATION</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>LOCATION</name>
        <length>50</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>LOCATION</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Date</type>
        <storagetype>normal</storagetype>
        <name>WARRANTYEXPDATE</name>
        <length>-1</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>WARRANTYEXPDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>INSTALLEDBY</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>INSTALLEDBY</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>INSTALLEDBY</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>INSTALLEDBY</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>DESCRIPTION</name>
            <length>1024</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>DESCRIPTION</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>DESCRIPTION</name>
        <length>1024</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>DESCRIPTION</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>MANUFACTURER</name>
            <length>40</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>MANUFACTURER</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>MANUFACTURER</name>
        <length>40</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>MANUFACTURER</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>MODEL</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>MODEL</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>MODEL</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>MODEL</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER3</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>USER3</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER3</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>USER3</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>CREATEUSER</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>CREATEUSER</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>CREATEUSER</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>CREATEUSER</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Timestamp</type>
        <storagetype>normal</storagetype>
        <name>CREATEDATE</name>
        <length>0</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>CREATEDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Timestamp</type>
        <storagetype>normal</storagetype>
        <name>UPDATEDATE</name>
        <length>0</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>UPDATEDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER1</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>USER1</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER1</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>USER1</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER5</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (assets) table</origin>
            <comments>USER5</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER5</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (assets) table</origin>
        <comments>USER5</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>384</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Query CommitCRM Assets (modified assets)</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${RangerMSP-ds}</connection>
    <sql>select v.VALUE,a.RECID,a.ACCOUNTRECID,a.CONTACTRECID,a.PARENTASSETRECID,a.STATUS,a.NAME,a.SERIALNO,a.ASSETCODE,a.WARRANTYEXPDATE,a.LOCATION,a.INSTALLEDBY,CAST(a.DESCRIPTION as SQL_VARCHAR) AS DESCRIPTION,a.MANUFACTURER,a.MODEL,a.USER3,a.CREATEUSER,CAST(a.CREATEDATE as SQL_VARCHAR) AS CREATEDATE,CAST(a.UPDATEDATE as SQL_VARCHAR) AS UPDATEDATE,a.USER1,a.USER5 from ValuesList as v INNER JOIN Assets AS a on v.RECID = a.ASSETTYPE where a.RECID is not null AND a.UPDATEDATE > ?
--select v.VALUE,a.RECID,a.ACCOUNTRECID,a.CONTACTRECID,a.PARENTASSETRECID,a.STATUS,a.NAME,a.SERIALNO,a.ASSETCODE,a.WARRANTYEXPDATE,a.LOCATION,a.INSTALLEDBY,CAST(a.DESCRIPTION as SQL_VARCHAR) AS DESCRIPTION,a.MANUFACTURER,a.MODEL,a.USER3,a.CREATEUSER,CAST(a.CREATEDATE as SQL_VARCHAR) AS CREATEDATE,CAST(a.UPDATEDATE as SQL_VARCHAR) AS UPDATEDATE,a.USER1,a.USER5 from ValuesList as v INNER JOIN Assets AS a on v.RECID = a.ASSETTYPE where a.RECID ='ASTNTHR6AAE9NFGUYUU3' AND a.UPDATEDATE > ?</sql>
    <limit>0</limit>
    <lookup>Get :Crmasset (last mod)</lookup>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>Y</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>VALUE</name>
            <length>100</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>VALUE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>VALUE</name>
        <length>100</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>VALUE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>RECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>RECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>RECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>RECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>ACCOUNTRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>ACCOUNTRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>ACCOUNTRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>ACCOUNTRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>CONTACTRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>CONTACTRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>CONTACTRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>CONTACTRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>PARENTASSETRECID</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>PARENTASSETRECID</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>PARENTASSETRECID</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>PARENTASSETRECID</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>STATUS</name>
            <length>1</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>STATUS</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>STATUS</name>
        <length>1</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>STATUS</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>NAME</name>
            <length>60</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>NAME</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>NAME</name>
        <length>60</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>NAME</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>SERIALNO</name>
            <length>30</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>SERIALNO</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>SERIALNO</name>
        <length>30</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>SERIALNO</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>ASSETCODE</name>
            <length>30</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>ASSETCODE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>ASSETCODE</name>
        <length>30</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>ASSETCODE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Date</type>
        <storagetype>normal</storagetype>
        <name>WARRANTYEXPDATE</name>
        <length>-1</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>WARRANTYEXPDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>LOCATION</name>
            <length>50</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>LOCATION</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>LOCATION</name>
        <length>50</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>LOCATION</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>INSTALLEDBY</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>INSTALLEDBY</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>INSTALLEDBY</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>INSTALLEDBY</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>DESCRIPTION</name>
            <length>1024</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>DESCRIPTION</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>DESCRIPTION</name>
        <length>1024</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>DESCRIPTION</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>MANUFACTURER</name>
            <length>40</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>MANUFACTURER</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>MANUFACTURER</name>
        <length>40</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>MANUFACTURER</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>MODEL</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>MODEL</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>MODEL</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>MODEL</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER3</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>USER3</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER3</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>USER3</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>CREATEUSER</name>
            <length>20</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>CREATEUSER</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>CREATEUSER</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>CREATEUSER</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>CREATEDATE</name>
            <length>23</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>CREATEDATE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>CREATEDATE</name>
        <length>23</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>CREATEDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>UPDATEDATE</name>
            <length>23</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>UPDATEDATE</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>UPDATEDATE</name>
        <length>23</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>UPDATEDATE</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER1</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>USER1</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER1</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>USER1</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>binary-string</storagetype>
        <storage-meta>
          <value-meta>
            <type>String</type>
            <storagetype>normal</storagetype>
            <name>USER5</name>
            <length>25</length>
            <precision>-1</precision>
            <origin>Query CommitCRM Assets (modified assets)</origin>
            <comments>USER5</comments>
            <conversion_Mask/>
            <decimal_symbol>.</decimal_symbol>
            <grouping_symbol>,</grouping_symbol>
            <currency_symbol/>
            <trim_type>none</trim_type>
            <case_insensitive>N</case_insensitive>
            <collator_disabled>Y</collator_disabled>
            <collator_strength>0</collator_strength>
            <sort_descending>N</sort_descending>
            <output_padding>N</output_padding>
            <date_format_lenient>N</date_format_lenient>
            <date_format_locale>en_US</date_format_locale>
            <date_format_timezone>America/Chicago</date_format_timezone>
            <lenient_string_to_number>N</lenient_string_to_number>
          </value-meta>
        </storage-meta>
        <name>USER5</name>
        <length>25</length>
        <precision>-1</precision>
        <origin>Query CommitCRM Assets (modified assets)</origin>
        <comments>USER5</comments>
        <conversion_Mask/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>en_US</date_format_locale>
        <date_format_timezone>America/Chicago</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>384</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Update Logging</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>WITH apoc.date.format(timestamp(),'ms',"yyyy-MM-dd'T'HH:mm:ss",'CST') as lastupdate
MERGE (l:N4jlogging {id:0})
SET l.assetupdatecompleted=lastupdate
;</cypher>
    <batch_size/>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns>
      <return>
        <name>lastupdate</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
    </returns>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1056</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Update Logging 2</name>
    <type>Neo4jCypherOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <cypher>WITH apoc.date.format(timestamp(),'ms',"yyyy-MM-dd'T'HH:mm:ss",'CST') as lastupdate
MERGE (l:N4jlogging {id:0})
SET l.assetnewcompleted=lastupdate
;</cypher>
    <batch_size/>
    <read_only>N</read_only>
    <retry>Y</retry>
    <cypher_from_field>N</cypher_from_field>
    <cypher_field/>
    <unwind>N</unwind>
    <unwind_map/>
    <returning_graph>N</returning_graph>
    <return_graph_field/>
    <mappings/>
    <returns>
      <return>
        <name>lastupdate</name>
        <type>String</type>
        <source_type>String</source_type>
      </return>
    </returns>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1056</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>Update the :Crmasset :Ticketqueue</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>// CREATE EXPIRING ASSET TICKET QUEUE ITEM 

WITH timestamp() as now,timestamp()+3888000000 as in45days
WITH *,apoc.date.format(now+2592000000,'ms','MM/dd/yyyy HH:mm:ss','CST') as duedate
MATCH (a:Company)-[:ASSET_OF]-(ca:Crmasset)-[:ASSET_STATE]-(:Recordstatus {state:'A'}) WHERE ca.expireson>now and ca.expireson&lt;in45days
OPTIONAL MATCH (a)-[:ACCOUNT_MANAGER]-(e:Crmemployee)
WITH *,apoc.date.format(ca.expireson,'ms','yyyy-MM-dd','CST') as Expiration
MERGE (tq:Ticketqueue {host:ca.name,service:'Expiring Asset',asset:ca.recid})
ON CREATE SET tq.acctrecid=a.acctrecid,tq.company=a.name,tq.tickettype='Sales',tq.source='Graph Automation',tq.submitted=timestamp(),tq.status='submitted',tq.createcounter=0,tq.duedate=duedate,tq.autoclose='Do not Autoclose',tq.expiration=Expiration,tq.manager=coalesce(e.acctrecid,'CRDVFE2WLHAEO7NF8XCZ') 
ON MATCH SET tq.company=a.name
RETURN a.name,ca.name,tq.expiration;
</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>1024</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform>
    <name>update :Crmasset to :Assetcategory</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>${graphdb-ds}</connection>
    <execute_each_row>N</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>
WITH ['server','azure','appliance','firewall','ipmi','onsite manager','pbx','router','storage device','switch','ups','wireless','virtual server','multifunction' ,'power (pdu)','power (controller)','vpn'] as list
MATCH (at:Assettype) WHERE any (item in list where toLower(at.name) contains item)
MATCH (ca:Crmasset)-[:ASSET_TYPE]-(at) where not ((ca)-[:ASSET_CLASS]-(:Assetclass))
MATCH (ac:Assetclass {name:'Infrastructure'})
MERGE (ca)-[:ASSET_CLASS]->(ac)
;

WITH ['printer','display','peripheral','scanner'] as list
MATCH (at:Assettype) WHERE any (item in list where toLower(at.name) contains item)
MATCH (ca:Crmasset)-[:ASSET_TYPE]-(at) where not ((ca)-[:ASSET_CLASS]-(:Assetclass))
MATCH (ac:Assetclass {name:'Peripheral'})
MERGE (ca)-[:ASSET_CLASS]->(ac)
;

WITH ['desktop','notebook','mini pc','tablet','thin client','workstation','zero client'] as list
MATCH (at:Assettype) WHERE any (item in list where toLower(at.name) contains item)
MATCH (ca:Crmasset)-[:ASSET_TYPE]-(at) where not ((ca)-[:ASSET_CLASS]-(:Assetclass))
MATCH (ac:Assetclass {name:'Endpoint'})
MERGE (ca)-[:ASSET_CLASS]->(ac)
;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <GUI>
      <xloc>144</xloc>
      <yloc>368</yloc>
      <draw>Y</draw>
    </GUI>
  </transform>
  <transform_error_handling>
  </transform_error_handling>
  <attributes/>
</pipeline>
